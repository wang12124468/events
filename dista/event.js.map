{"version":3,"sources":["events.js","core/Events.js","core/addEventListener.js","core/dispatchEvent.js","core/removeAllEventListener.js","core/removeEventListener.js","utils/utils.js"],"names":["Events","require","module","exports","addEventListener","removeEventListener","dispatchEvent","removeAllEventListener","_listeners","prototype","type","listener","call","on","off","apply","arguments","ReflectHas","listenerType","TypeError","listeners","push","ReflectApply","arg1","stack","args","Array","slice","length","i","l","splice","hasReflect","Reflect","has","target","name","thisArg","Function"],"mappings":"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","file":"event.js","sourcesContent":["var Events = require('./core/Events');\r\n\r\nmodule.exports = Events;\r\nmodule.exports.Events = Events;\r\n\r\n","var addEventListener = require('./addEventListener');\r\nvar removeEventListener = require('./removeEventListener');\r\nvar dispatchEvent = require('./dispatchEvent');\r\nvar removeAllEventListener = require('./removeAllEventListener');\r\n\r\nfunction Events() {\r\n    this._listeners = {};\r\n}\r\n\r\nEvents.prototype.addEventListener = function(type, listener) {\r\n    return addEventListener.call(this, type, listener);\r\n}\r\n\r\nEvents.prototype.on = function(type, listener) {\r\n    return addEventListener.call(this, type, listener);\r\n}\r\n\r\nEvents.prototype.removeEventListener = function(type, listener) {\r\n    return removeEventListener.call(this, type, listener);\r\n}\r\n\r\nEvents.prototype.off = function(type, listener) {\r\n    return removeEventListener.call(this, type, listener);\r\n}\r\n\r\nEvents.prototype.dispatchEvent = function(type) {\r\n    return dispatchEvent.apply(this, arguments);\r\n}\r\n\r\nEvents.prototype.removeAllEventListener = function() {\r\n    return removeAllEventListener.call(this);\r\n}\r\n\r\nmodule.exports = Events;","var ReflectHas = require('../utils/utils').ReflectHas;\r\n\r\nfunction addEventListener(type, listener) {\r\n    // Validate\r\n    var listenerType = typeof listener;\r\n    if(listenerType !== 'function') {\r\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + listenerType);\r\n    }\r\n\r\n    var listeners = this._listeners;\r\n\r\n    if(!ReflectHas(listeners, type)) {\r\n        listeners[type] = [];\r\n    }\r\n\r\n    listeners[type].push(listener)\r\n}\r\n\r\nmodule.exports = addEventListener;","var ReflectApply = require('../utils/utils').ReflectApply;\r\n\r\nfunction dispatchEvent(arg1) {\r\n    var stack = [];\r\n    var args = [];\r\n    var listeners = this._listeners;\r\n\r\n    if(typeof arg1 === 'string') {\r\n        stack = listeners[arg1];\r\n        args = Array.prototype.slice.call(arguments, 1);\r\n    } else if(arg1 && (arg1.type in listeners)) {\r\n        stack = listeners[arg1.type];\r\n        args = arguments;\r\n    } else {\r\n        return false;\r\n    }\r\n\r\n    if(!stack || !stack.length) {\r\n        return true;\r\n    }\r\n\r\n    // Copy the listeners\r\n    stack = stack.slice();\r\n\r\n    for(var i = 0, l = stack.length; i < l; i++) {\r\n        ReflectApply(stack[i], this, args);\r\n    }\r\n    return true\r\n}\r\n\r\nmodule.exports = dispatchEvent;","function removeAllEventListener() {\n    this._listeners = {};\n}\n\nmodule.exports = removeAllEventListener;","var ReflectHas = require('../utils/utils').ReflectHas;\r\n\r\nfunction removeEventListener(type, listener) {\r\n\r\n    // Validate\r\n    var listenerType = typeof listener;\r\n    if (listenerType !== 'function') {\r\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + listenerType);\r\n    }\r\n\r\n    var listeners = this._listeners;\r\n\r\n    if (!ReflectHas(listeners, type)) {\r\n        return;\r\n    }\r\n\r\n    var stack = listeners[type];\r\n\r\n    for (var i = 0, l = stack.length; i < l; i++) {\r\n        if (stack[i] === listener) {\r\n            stack.splice(i, 1);\r\n            return;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nmodule.exports = removeEventListener;","var hasReflect = typeof Reflect === 'object';\r\n\r\nvar ReflectHas = hasReflect && typeof Reflect.has === 'function' ? Reflect.has : function (target, name) {\r\n    return name in target;\r\n}\r\n\r\nvar ReflectApply = hasReflect && typeof Reflect.apply === 'function' ? Reflect.apply : function (target, thisArg, args) {\r\n    return Function.prototype.apply.call(target, thisArg, args);\r\n}\r\n\r\nmodule.exports = {\r\n    ReflectHas: ReflectHas,\r\n    ReflectApply: ReflectApply\r\n};"]}